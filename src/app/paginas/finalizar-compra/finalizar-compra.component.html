<div class="container text-white my-3">

    <ul class="nav nav-tabs nav-justified">
        
        <li class="nav-item active">
            <a class="nav-link active" data-toggle="tab" role="tab" href="#enderecoId" aria-controls="enderecoId">Endereço</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" role="tab" href="#pagamentoId" aria-controls="pagamentoId">Pagamento</a>
        </li>
    </ul>

    <div class="tab-content my-3">
        <div id="enderecoId" class="tab-pane fade show active">
            <h3 >Confirmação de endereço</h3>
            <div class="p-3 bg-card-produto mt-3 rounded">
                <form #f="ngForm" (ngSubmit)="onSubmit(f)">
                    <div class="form-row">
                        <div class="form-group col-2" [ngClass]="aplicaCssErro(cep)">
                            <label class="control-label" for="cep">CEP</label>
                            <input type="text" class="form-control" name="cep" id="cep" placeholder="00000-000" ngModel required #cep="ngModel" (blur)="buscarCEP($event.target.value, f)" >
                            <app-campo-control-erro [mostrarErro]="verificaValidTouched(cep)" msgErro="CEP Obrigatório."></app-campo-control-erro>
                            
                        </div>
                        
                    </div>
                    <div class="form-row">
                        <div class="form-group col-6">
                            <label for="">Rua/Avenida/Travessa</label>
                            <input type="text" class="form-control" name="rua" id="rua" placeholder="" ngModel required readonly disabled #rua="ngModel">
                        </div>
                        <div class="form-group col-2" [ngClass]="aplicaCssErro(numero)">
                            <label for="">Número</label>
                            <input type="text" class="form-control" name="numero" id="numero" placeholder="0000" ngModel required #numero="ngModel">
                            <app-campo-control-erro [mostrarErro]="verificaValidTouched(numero)" msgErro="Número Obrigatório. (Se não tiver, coloque como 0)"></app-campo-control-erro>
                        </div>
                        <div class="form-group col">
                            <label for="">Complemento</label>
                            <input type="text" class="form-control" name="complemento" id="complemento" placeholder="" ngModel #complemento="ngModel">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-5">
                            <label for="">Bairro</label>
                            <input type="text" class="form-control" name="bairro" id="bairro" placeholder="" ngModel required readonly disabled #bairro="ngModel">
                        </div>
                        <div class="form-group col-4">
                            <label for="">Cidade</label>
                            <input type="text" class="form-control" name="cidade" id="cidade" placeholder="" ngModel required readonly disabled #cidade="ngModel">
                        </div>
                        <div class="form-group col-3">
                            <label for="">Estado</label>
                            <input type="text" class="form-control" name="estado" id="estado" placeholder="" ngModel required readonly disabled #estado="ngModel">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-dark" [disabled]="!f.valid">Realizar pagamento</button>
                    
                </form>
            </div>
    
        </div>
        <div id="pagamentoId" class="tab-pane fade">
            <h3 >Escolha a forma de pagamento</h3>
            <div class="p-3 bg-card-produto mt-3 rounded">
                <form #f2="ngForm" (ngSubmit)="mercadoPago()" action="/processar_pagamento" method="POST">
                    
                        <script
                         [src]="https://www.mercadopago.com.br/integrations/v1/web-payment-checkout.js"
                         [data-preference-id]="$$id$$">
                        </script>
                      
                    <button type="submit" class="btn btn-dark">Pagar</button>
                </form>
                
                
                
            </div>
    
        </div>
    </div>
</div>